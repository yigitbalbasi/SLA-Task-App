define(["exports","react","react-dom","mendix/filters/builders"],(function(e,t,r,n){"use strict";var a,i={exports:{}};
/*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  */a=i,function(){var e={}.hasOwnProperty;function t(){for(var r=[],n=0;n<arguments.length;n++){var a=arguments[n];if(a){var i=typeof a;if("string"===i||"number"===i)r.push(a);else if(Array.isArray(a)){if(a.length){var o=t.apply(null,a);o&&r.push(o)}}else if("object"===i){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){r.push(a.toString());continue}for(var u in a)e.call(a,u)&&a[u]&&r.push(u)}}}return r.join(" ")}a.exports?(t.default=t,a.exports=t):window.classNames=t}();var o=i.exports;const u="com.mendix.widgets.web.filterable.filterContext";function l(){const e=window[u];if(e)return{FilterContext:e};const r=t.createContext(void 0);return window[u]=r,{FilterContext:r}}function s(){const e=window["com.mendix.widgets.web.sortable.sortContext"];if(e)return{SortContext:e};const r=t.createContext(void 0);return window["com.mendix.widgets.web.sortable.sortContext"]=r,{SortContext:r}}function c(e){const{setPage:r,hasMoreItems:n,isInfinite:a}=e,[i,u]=t.useState(0),l=t.useRef(null),s=t.useCallback((e=>{Math.floor(e.target.scrollHeight-e.target.scrollTop)<=Math.floor(e.target.clientHeight)+2&&n&&r&&r((e=>e+1))}),[n,r]),c=t.useCallback((()=>{a&&n&&i<=0&&l.current&&u(l.current.clientHeight-30)}),[a,n,i]);return t.useLayoutEffect((()=>{setTimeout((()=>c()),100)}),[c]),t.createElement("div",{ref:l,className:o(e.className,a?"infinite-loading":""),onScroll:a?s:void 0,role:e.role,style:a&&i>0?Object.assign(Object.assign({},e.style),{maxHeight:i}):e.style},e.children)}function d(e){let{direction:r}=e;const n="pagination-icon ".concat(r);switch(r){case"forward":return t.createElement("span",{"aria-hidden":!0},t.createElement("svg",{className:n,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M17.81 6.63C17.48 6.37 17 6.61 17 7.02V24.98C17 25.4 17.48 25.63 17.81 25.37L28.5 16.39C28.76 16.19 28.76 15.8 28.5 15.6L17.81 6.63Z",fill:"currentColor"}),t.createElement("path",{d:"M4.81 6.63C4.48 6.37 4 6.61 4 7.02V24.98C4 25.4 4.48 25.63 4.81 25.37L15.5 16.39C15.76 16.19 15.76 15.8 15.5 15.6L4.81 6.63Z",fill:"currentColor"})));case"step-forward":return t.createElement("span",{"aria-hidden":!0},t.createElement("svg",{className:n,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M8.81 6.63C8.48 6.37 8 6.61 8 7.02V24.98C8 25.4 8.48 25.63 8.81 25.37L20.5 16.39C20.76 16.19 20.76 15.8 20.5 15.6L8.81 6.63Z",fill:"currentColor"}),t.createElement("path",{d:"M24 6H22V26H24V6Z",fill:"currentColor"})));case"backward":return t.createElement("span",{"aria-hidden":!0},t.createElement("svg",{className:n,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M14.19 6.63L3.51 15.61C3.25 15.81 3.25 16.2 3.51 16.4L14.2 25.38C14.53 25.64 15.01 25.4 15.01 24.99V7.02C15.01 6.6 14.53 6.37 14.2 6.63H14.19Z",fill:"currentColor"}),t.createElement("path",{d:"M27.19 6.63L16.5 15.61C16.24 15.81 16.24 16.2 16.5 16.4L27.19 25.38C27.52 25.64 28 25.4 28 24.99V7.02C28 6.6 27.52 6.37 27.19 6.63Z",fill:"currentColor"})));case"step-backward":return t.createElement("span",{"aria-hidden":!0},t.createElement("svg",{className:n,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M23.19 6.63L11.51 15.61C11.25 15.81 11.25 16.2 11.51 16.4L23.2 25.38C23.53 25.64 24.01 25.4 24.01 24.99V7.02C24.01 6.6 23.53 6.37 23.2 6.63H23.19Z",fill:"currentColor"}),t.createElement("path",{d:"M10 6H8V26H10V6Z",fill:"currentColor"})));default:return t.createElement("div",null)}}function f(e){var r,n,a,i,o,u,l;const s=void 0!==e.numberOfItems?Math.ceil(e.numberOfItems/e.pageSize):void 0,c=void 0!==s?s-1:0,f=void 0!==s,h=e.page*e.pageSize+1,y=e.canNextPage||!e.numberOfItems?(e.page+1)*e.pageSize:e.numberOfItems,w=t=>{e.setPaginationIndex&&e.setPaginationIndex(t)};if(0===e.numberOfItems)return null;const p="".concat(h," to ").concat(y," ").concat(f?"of ".concat(null!==(r=e.numberOfItems)&&void 0!==r?r:(null!=s?s:1)*e.pageSize):"");return t.createElement("div",{"aria-label":null!==(n=e.labelPagination)&&void 0!==n?n:"Pagination",className:"pagination-bar",role:"pagination"},t.createElement("button",Object.assign({className:"btn pagination-button",disabled:0===e.page},v((()=>{e.gotoPage(0),w(0)})),{"aria-label":null!==(a=e.labelFirstPage)&&void 0!==a?a:"Go to first page"}),t.createElement(d,{direction:"step-backward"})),t.createElement("button",Object.assign({className:"btn pagination-button",disabled:!e.canPreviousPage},v((()=>{e.previousPage(),w(e.page-1)})),{"aria-label":null!==(i=e.labelPreviousPage)&&void 0!==i?i:"Go to previous page"}),t.createElement(d,{direction:"backward"})),t.createElement("span",{className:"sr-only sr-only-focusable"},null!==(o=e.labelPagingStatus)&&void 0!==o?o:"Currently showing"," ",p),t.createElement("div",{"aria-hidden":!0,className:"paging-status"},p),t.createElement("button",Object.assign({"aria-label":null!==(u=e.labelNextPage)&&void 0!==u?u:"Go to next page",className:"btn pagination-button",disabled:!e.canNextPage},v((()=>{e.nextPage(),w(e.page+1)}))),t.createElement(d,{direction:"forward"})),f&&t.createElement("button",Object.assign({"aria-label":null!==(l=e.labelLastPage)&&void 0!==l?l:"Go to last page",className:"btn pagination-button",disabled:e.page===c},v((()=>{e.gotoPage(c),w(c)}))),t.createElement(d,{direction:"step-forward"})))}function v(e){return{onClick:e,onKeyDown:t=>{" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),t.stopPropagation(),e())}}}function h(e){const r=e.paging?t.createElement("div",{className:"widget-gallery-pagination"},t.createElement(f,{canNextPage:e.hasMoreItems,canPreviousPage:0!==e.page,gotoPage:t=>e.setPage&&e.setPage((()=>t)),nextPage:()=>e.setPage&&e.setPage((e=>e+1)),numberOfItems:e.numberOfItems,page:e.page,pageSize:e.pageSize,previousPage:()=>e.setPage&&e.setPage((e=>e-1))})):null;return t.createElement("div",{className:o("widget-gallery",e.className),"data-focusindex":e.tabIndex||0},"above"===e.paginationPosition&&r,e.showHeader?t.createElement("div",{className:"widget-gallery-filter",role:"section","aria-label":e.headerTitle},e.header):null,e.items.length>0&&e.itemRenderer&&t.createElement(c,{className:o("widget-gallery-items","widget-gallery-lg-".concat(e.desktopItems),"widget-gallery-md-".concat(e.tabletItems),"widget-gallery-sm-".concat(e.phoneItems)),hasMoreItems:e.hasMoreItems,setPage:e.setPage,isInfinite:!e.paging,role:"list"},e.items.map((r=>e.itemRenderer(((e,n,a,i)=>t.createElement("div",{key:"item_".concat(r.id),className:o("widget-gallery-item",a,{"widget-gallery-clickable":!!i,"widget-gallery-selected":e}),onClick:i,onKeyDown:i?e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),i())}:void 0,role:i?"button":"listitem",tabIndex:i?0:void 0},n)),r)))),(0===e.items.length||e.preview)&&e.emptyPlaceholderRenderer&&e.emptyPlaceholderRenderer((r=>t.createElement("div",{className:"widget-gallery-empty",role:"section","aria-label":e.emptyMessageTitle},t.createElement("div",{className:"empty-placeholder"},r)))),"below"===e.paginationPosition&&r)}function y(e,t){if(!e||!t)return[];const r=w(t);return r?r.filter((e=>!!e.arg1&&!!e.arg2)).filter((t=>"attribute"===t.arg1.type&&t.arg1.attributeId===e.id)).map((e=>({type:String(e.name),value:e.arg2.value}))):[]}function w(e){return!e||"function"!==e.type||"and"!==e.name&&"or"!==e.name?e?[e]:void 0:e.args.flatMap(w).filter((e=>void 0!==e))}var p;function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function m(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function b(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function k(e){b(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===g(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}!function(e){e.Number="number",e.DateTime="datetime"}(p||(p={}));var T={};function C(){return T}function x(e){b(1,arguments);var t=k(e),r=t.getUTCDay(),n=(r<1?7:0)+r-1;return t.setUTCDate(t.getUTCDate()-n),t.setUTCHours(0,0,0,0),t}function E(e){b(1,arguments);var t=function(e){b(1,arguments);var t=k(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=x(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=x(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}(e),r=new Date(0);return r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0),x(r)}var S=6048e5;function D(e,t){var r,n,a,i,o,u,l,s;b(1,arguments);var c=C(),d=m(null!==(r=null!==(n=null!==(a=null!==(i=null==t?void 0:t.weekStartsOn)&&void 0!==i?i:null==t||null===(o=t.locale)||void 0===o||null===(u=o.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==a?a:c.weekStartsOn)&&void 0!==n?n:null===(l=c.locale)||void 0===l||null===(s=l.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==r?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=k(e),v=f.getUTCDay(),h=(v<d?7:0)+v-d;return f.setUTCDate(f.getUTCDate()-h),f.setUTCHours(0,0,0,0),f}function P(e,t){var r,n,a,i,o,u,l,s;b(1,arguments);var c=k(e),d=c.getUTCFullYear(),f=C(),v=m(null!==(r=null!==(n=null!==(a=null!==(i=null==t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null==t||null===(o=t.locale)||void 0===o||null===(u=o.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==a?a:f.firstWeekContainsDate)&&void 0!==n?n:null===(l=f.locale)||void 0===l||null===(s=l.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==r?r:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setUTCFullYear(d+1,0,v),h.setUTCHours(0,0,0,0);var y=D(h,t),w=new Date(0);w.setUTCFullYear(d,0,v),w.setUTCHours(0,0,0,0);var p=D(w,t);return c.getTime()>=y.getTime()?d+1:c.getTime()>=p.getTime()?d:d-1}var U=6048e5;function M(e,t){b(1,arguments);var r=k(e),n=D(r,t).getTime()-function(e,t){var r,n,a,i,o,u,l,s;b(1,arguments);var c=C(),d=m(null!==(r=null!==(n=null!==(a=null!==(i=null==t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null==t||null===(o=t.locale)||void 0===o||null===(u=o.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==a?a:c.firstWeekContainsDate)&&void 0!==n?n:null===(l=c.locale)||void 0===l||null===(s=l.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==r?r:1),f=P(e,t),v=new Date(0);return v.setUTCFullYear(f,0,d),v.setUTCHours(0,0,0,0),D(v,t)}(r,t).getTime();return Math.round(n/U)+1}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=H(e);if(t){var a=H(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}(this,r)}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L(n.key),n)}}function Y(e,t,r){return t&&q(e.prototype,t),r&&q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function B(e,t,r){return(t=L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R=function(e){F(r,e);var t=O(r);function r(e,n,a,i,o){var u;return A(this,r),(u=t.call(this)).value=e,u.validateValue=n,u.setValue=a,u.priority=i,o&&(u.subPriority=o),u}return Y(r,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,r){return this.setValue(e,t,this.value,r)}}]),r}(function(){function e(){A(this,e),B(this,"priority",void 0),B(this,"subPriority",0)}return Y(e,[{key:"validate",value:function(e,t){return!0}}]),e}()),j=function(){function e(){A(this,e),B(this,"incompatibleTokens",void 0),B(this,"priority",void 0),B(this,"subPriority",void 0)}return Y(e,[{key:"run",value:function(e,t,r,n){var a=this.parse(e,t,r,n);return a?{setter:new R(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(e,t,r){return!0}}]),e}(),V=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",140),B(I(e),"incompatibleTokens",["R","u","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,r){return t.era=r,e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(j),Q=/^(1[0-2]|0?\d)/,G=/^(3[0-1]|[0-2]?\d)/,z=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Z=/^(5[0-3]|[0-4]?\d)/,X=/^(2[0-3]|[0-1]?\d)/,_=/^(2[0-4]|[0-1]?\d)/,W=/^(1[0-1]|0?\d)/,K=/^(1[0-2]|0?\d)/,J=/^[0-5]?\d/,$=/^[0-5]?\d/,ee=/^\d/,te=/^\d{1,2}/,re=/^\d{1,3}/,ne=/^\d{1,4}/,ae=/^-?\d+/,ie=/^-?\d/,oe=/^-?\d{1,2}/,ue=/^-?\d{1,3}/,le=/^-?\d{1,4}/,se=/^([+-])(\d{2})(\d{2})?|Z/,ce=/^([+-])(\d{2})(\d{2})|Z/,de=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,fe=/^([+-])(\d{2}):(\d{2})|Z/,ve=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function he(e,t){return e?{value:t(e.value),rest:e.rest}:e}function ye(e,t){var r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function we(e,t){var r=t.match(e);return r?"Z"===r[0]?{value:0,rest:t.slice(1)}:{value:("+"===r[1]?1:-1)*(36e5*(r[2]?parseInt(r[2],10):0)+6e4*(r[3]?parseInt(r[3],10):0)+1e3*(r[5]?parseInt(r[5],10):0)),rest:t.slice(r[0].length)}:null}function pe(e){return ye(ae,e)}function ge(e,t){switch(e){case 1:return ye(ee,t);case 2:return ye(te,t);case 3:return ye(re,t);case 4:return ye(ne,t);default:return ye(new RegExp("^\\d{1,"+e+"}"),t)}}function me(e,t){switch(e){case 1:return ye(ie,t);case 2:return ye(oe,t);case 3:return ye(ue,t);case 4:return ye(le,t);default:return ye(new RegExp("^-?\\d{1,"+e+"}"),t)}}function be(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function ke(e,t){var r,n=t>0,a=n?t:1-t;if(a<=50)r=e||100;else{var i=a+50;r=e+100*Math.floor(i/100)-(e>=i%100?100:0)}return n?r:1-r}function Te(e){return e%400==0||e%4==0&&e%100!=0}var Ce=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",130),B(I(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){var n=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return he(ge(4,e),n);case"yo":return he(r.ordinalNumber(e,{unit:"year"}),n);default:return he(ge(t.length,e),n)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,r){var n=e.getUTCFullYear();if(r.isTwoDigitYear){var a=ke(r.year,n);return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}var i="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(j),xe=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",130),B(I(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){var n=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return he(ge(4,e),n);case"Yo":return he(r.ordinalNumber(e,{unit:"year"}),n);default:return he(ge(t.length,e),n)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,r,n){var a=P(e,n);if(r.isTwoDigitYear){var i=ke(r.year,a);return e.setUTCFullYear(i,0,n.firstWeekContainsDate),e.setUTCHours(0,0,0,0),D(e,n)}var o="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(o,0,n.firstWeekContainsDate),e.setUTCHours(0,0,0,0),D(e,n)}}]),r}(j),Ee=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",130),B(I(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t){return me("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,r){var n=new Date(0);return n.setUTCFullYear(r,0,4),n.setUTCHours(0,0,0,0),x(n)}}]),r}(j),Se=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",130),B(I(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t){return me("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,r){return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(j),De=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",120),B(I(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"Q":case"QQ":return ge(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,r){return e.setUTCMonth(3*(r-1),1),e.setUTCHours(0,0,0,0),e}}]),r}(j),Pe=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",120),B(I(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"q":case"qq":return ge(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,r){return e.setUTCMonth(3*(r-1),1),e.setUTCHours(0,0,0,0),e}}]),r}(j),Ue=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),B(I(e),"priority",110),e}return Y(r,[{key:"parse",value:function(e,t,r){var n=function(e){return e-1};switch(t){case"M":return he(ye(Q,e),n);case"MM":return he(ge(2,e),n);case"Mo":return he(r.ordinalNumber(e,{unit:"month"}),n);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e}}]),r}(j),Me=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",110),B(I(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){var n=function(e){return e-1};switch(t){case"L":return he(ye(Q,e),n);case"LL":return he(ge(2,e),n);case"Lo":return he(r.ordinalNumber(e,{unit:"month"}),n);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e}}]),r}(j);var Ie=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",100),B(I(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"w":return ye(Z,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return ge(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,r,n){return D(function(e,t,r){b(2,arguments);var n=k(e),a=m(t),i=M(n,r)-a;return n.setUTCDate(n.getUTCDate()-7*i),n}(e,r,n),n)}}]),r}(j);function Ne(e,t){b(2,arguments);var r=k(e),n=m(t),a=function(e){b(1,arguments);var t=k(e),r=x(t).getTime()-E(t).getTime();return Math.round(r/S)+1}(r)-n;return r.setUTCDate(r.getUTCDate()-7*a),r}var Fe=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",100),B(I(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"I":return ye(Z,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return ge(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,r){return x(Ne(e,r))}}]),r}(j),He=[31,28,31,30,31,30,31,31,30,31,30,31],Oe=[31,29,31,30,31,30,31,31,30,31,30,31],Ae=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",90),B(I(e),"subPriority",1),B(I(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"d":return ye(G,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return ge(t.length,e)}}},{key:"validate",value:function(e,t){var r=Te(e.getUTCFullYear()),n=e.getUTCMonth();return r?t>=1&&t<=Oe[n]:t>=1&&t<=He[n]}},{key:"set",value:function(e,t,r){return e.setUTCDate(r),e.setUTCHours(0,0,0,0),e}}]),r}(j),Le=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",90),B(I(e),"subpriority",1),B(I(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"D":case"DD":return ye(z,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return ge(t.length,e)}}},{key:"validate",value:function(e,t){return Te(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,r){return e.setUTCMonth(0,r),e.setUTCHours(0,0,0,0),e}}]),r}(j);function qe(e,t,r){var n,a,i,o,u,l,s,c;b(2,arguments);var d=C(),f=m(null!==(n=null!==(a=null!==(i=null!==(o=null==r?void 0:r.weekStartsOn)&&void 0!==o?o:null==r||null===(u=r.locale)||void 0===u||null===(l=u.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==i?i:d.weekStartsOn)&&void 0!==a?a:null===(s=d.locale)||void 0===s||null===(c=s.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=k(e),h=m(t),y=((h%7+7)%7<f?7:0)+h-v.getUTCDay();return v.setUTCDate(v.getUTCDate()+y),v}var Ye=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",90),B(I(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,n){return(e=qe(e,r,n)).setUTCHours(0,0,0,0),e}}]),r}(j),Be=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",90),B(I(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r,n){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return he(ge(t.length,e),a);case"eo":return he(r.ordinalNumber(e,{unit:"day"}),a);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,n){return(e=qe(e,r,n)).setUTCHours(0,0,0,0),e}}]),r}(j),Re=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",90),B(I(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r,n){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return he(ge(t.length,e),a);case"co":return he(r.ordinalNumber(e,{unit:"day"}),a);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,n){return(e=qe(e,r,n)).setUTCHours(0,0,0,0),e}}]),r}(j);var je=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",90),B(I(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){var n=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return ge(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return he(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n);case"iiiii":return he(r.day(e,{width:"narrow",context:"formatting"}),n);case"iiiiii":return he(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n);default:return he(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,r){return e=function(e,t){b(2,arguments);var r=m(t);r%7==0&&(r-=7);var n=k(e),a=((r%7+7)%7<1?7:0)+r-n.getUTCDay();return n.setUTCDate(n.getUTCDate()+a),n}(e,r),e.setUTCHours(0,0,0,0),e}}]),r}(j),Ve=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",80),B(I(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours(be(r),0,0,0),e}}]),r}(j),Qe=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",80),B(I(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours(be(r),0,0,0),e}}]),r}(j),Ge=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",80),B(I(e),"incompatibleTokens",["a","b","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours(be(r),0,0,0),e}}]),r}(j),ze=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",70),B(I(e),"incompatibleTokens",["H","K","k","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"h":return ye(K,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return ge(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,r){var n=e.getUTCHours()>=12;return n&&r<12?e.setUTCHours(r+12,0,0,0):n||12!==r?e.setUTCHours(r,0,0,0):e.setUTCHours(0,0,0,0),e}}]),r}(j),Ze=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",70),B(I(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"H":return ye(X,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return ge(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,r){return e.setUTCHours(r,0,0,0),e}}]),r}(j),Xe=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",70),B(I(e),"incompatibleTokens",["h","H","k","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"K":return ye(W,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return ge(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){return e.getUTCHours()>=12&&r<12?e.setUTCHours(r+12,0,0,0):e.setUTCHours(r,0,0,0),e}}]),r}(j),_e=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",70),B(I(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"k":return ye(_,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return ge(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,r){var n=r<=24?r%24:r;return e.setUTCHours(n,0,0,0),e}}]),r}(j),We=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",60),B(I(e),"incompatibleTokens",["t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"m":return ye(J,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return ge(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,r){return e.setUTCMinutes(r,0,0),e}}]),r}(j),Ke=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",50),B(I(e),"incompatibleTokens",["t","T"]),e}return Y(r,[{key:"parse",value:function(e,t,r){switch(t){case"s":return ye($,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return ge(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,r){return e.setUTCSeconds(r,0),e}}]),r}(j),Je=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",30),B(I(e),"incompatibleTokens",["t","T"]),e}return Y(r,[{key:"parse",value:function(e,t){return he(ge(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,r){return e.setUTCMilliseconds(r),e}}]),r}(j),$e=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",10),B(I(e),"incompatibleTokens",["t","T","x"]),e}return Y(r,[{key:"parse",value:function(e,t){switch(t){case"X":return we(se,e);case"XX":return we(ce,e);case"XXXX":return we(de,e);case"XXXXX":return we(ve,e);default:return we(fe,e)}}},{key:"set",value:function(e,t,r){return t.timestampIsSet?e:new Date(e.getTime()-r)}}]),r}(j),et=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",10),B(I(e),"incompatibleTokens",["t","T","X"]),e}return Y(r,[{key:"parse",value:function(e,t){switch(t){case"x":return we(se,e);case"xx":return we(ce,e);case"xxxx":return we(de,e);case"xxxxx":return we(ve,e);default:return we(fe,e)}}},{key:"set",value:function(e,t,r){return t.timestampIsSet?e:new Date(e.getTime()-r)}}]),r}(j),tt=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",40),B(I(e),"incompatibleTokens","*"),e}return Y(r,[{key:"parse",value:function(e){return pe(e)}},{key:"set",value:function(e,t,r){return[new Date(1e3*r),{timestampIsSet:!0}]}}]),r}(j),rt=function(e){F(r,e);var t=O(r);function r(){var e;A(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return B(I(e=t.call.apply(t,[this].concat(a))),"priority",20),B(I(e),"incompatibleTokens","*"),e}return Y(r,[{key:"parse",value:function(e){return pe(e)}},{key:"set",value:function(e,t,r){return[new Date(r),{timestampIsSet:!0}]}}]),r}(j);new V,new Ce,new xe,new Ee,new Se,new De,new Pe,new Ue,new Me,new Ie,new Fe,new Ae,new Le,new Ye,new Be,new Re,new je,new Ve,new Qe,new Ge,new ze,new Ze,new Xe,new _e,new We,new Ke,new Je,new $e,new et,new tt,new rt;const nt=new Map([[100,"FF"],[99,"FC"],[98,"FA"],[97,"F7"],[96,"F5"],[95,"F2"],[94,"F0"],[93,"ED"],[92,"EB"],[91,"E8"],[90,"E6"],[89,"E3"],[88,"E0"],[87,"DE"],[86,"DB"],[85,"D9"],[84,"D6"],[83,"D4"],[82,"D1"],[81,"CF"],[80,"CC"],[79,"C9"],[78,"C7"],[77,"C4"],[76,"C2"],[75,"BF"],[74,"BD"],[73,"BA"],[72,"B8"],[71,"B5"],[70,"B3"],[69,"B0"],[68,"AD"],[67,"AB"],[66,"A8"],[65,"A6"],[64,"A3"],[63,"A1"],[62,"9E"],[61,"9C"],[60,"99"],[59,"96"],[58,"94"],[57,"91"],[56,"8F"],[55,"8C"],[54,"8A"],[53,"87"],[52,"85"],[51,"82"],[50,"80"],[49,"7D"],[48,"7A"],[47,"78"],[46,"75"],[45,"73"],[44,"70"],[43,"6E"],[42,"6B"],[41,"69"],[40,"66"],[39,"63"],[38,"61"],[37,"5E"],[36,"5C"],[35,"59"],[34,"57"],[33,"54"],[32,"52"],[31,"4F"],[30,"4D"],[29,"4A"],[28,"47"],[27,"45"],[26,"42"],[25,"40"],[24,"3D"],[23,"3B"],[22,"38"],[21,"36"],[20,"33"],[19,"30"],[18,"2E"],[17,"2B"],[16,"29"],[15,"26"],[14,"24"],[13,"21"],[12,"1F"],[11,"1C"],[10,"1A"],[9,"17"],[8,"14"],[7,"12"],[6,"0F"],[5,"0D"],[4,"0A"],[3,"08"],[2,"05"],[1,"03"],[0,"00"]]);function at(e,t){const r=nt.get(t);if(!r)throw Error("Structure preview error: Can't convert alpha value (".concat(t,") to hex"));return"#".concat(r).concat(e.slice(1))}const it={text:{primary:"#DEDEDE",secondary:"#A4A4A4",data:"#579BF9"},background:{topbarData:at("#3A65E5",20),topbarStandard:at("#646464",20),buttonInfo:"#579BF9",container:"#313131"}};Object.freeze({dark:it,light:{text:{primary:"#2F3646",secondary:"#6B707B",data:"#146FF4"},background:{topbarData:"#DCEEFE",topbarStandard:"#F7F7F7",buttonInfo:"#146FF4",container:"#FFFFFF"}}});class ot{constructor(e){this.selectionValue=e,this.type="Single"}updateProps(e){this.selectionValue=e}isSelected(e){var t;return(null===(t=this.selectionValue.selection)||void 0===t?void 0:t.id)===e.id}add(e){this.selectionValue.setSelection(e)}remove(e){this.selectionValue.setSelection(void 0)}}class ut{constructor(e,t){this.selectionValue=e,this.selectableItems=t,this.type="Multi"}isSelected(e){return this.selectionValue.selection.some((t=>t.id===e.id))}updateProps(e,t){this.selectionValue=e,this.selectableItems=t}get selectionStatus(){return 0===this.selectionValue.selection.length?"none":this.selectionValue.selection.length===this.selectableItems.length?"all":"some"}add(e){this.isSelected(e)||this.selectionValue.setSelection(this.selectionValue.selection.concat(e))}remove(e){this.isSelected(e)&&this.selectionValue.setSelection(this.selectionValue.selection.filter((t=>t.id!==e.id)))}selectAll(){this.selectionValue.setSelection(this.selectableItems)}selectNone(){this.selectionValue.setSelection([])}}const lt="com.mendix.widgets.web.selectable.selectionContext";e.Gallery=function(e){var r,a,i,o;const u=t.useRef(void 0),c=t.useRef(void 0),[d,f]=t.useState(!1),[v,w]=t.useState(!1),p={string:t.useState(),number:t.useState(),date:t.useState(),enum:t.useState()},[g,m]=t.useState(),{FilterContext:b}=l(),{SortContext:k}=s(),T=(void 0===window[lt]&&(window[lt]=t.createContext(void 0)),window[lt]),C="virtualScrolling"===e.pagination,x=C?e.datasource.limit/e.pageSize:e.datasource.offset/e.pageSize;t.useEffect((()=>{e.datasource.requestTotalCount(!0),e.datasource.limit===Number.POSITIVE_INFINITY&&e.datasource.setLimit(e.pageSize)}),[e.datasource,e.pageSize]),t.useEffect((()=>{!e.datasource.filter||d||u.current||(u.current=e.datasource.filter),!e.datasource.sortOrder||v||c.current||(c.current=e.datasource.sortOrder)}),[e.datasource,d,v]);const E=t.useMemo((()=>e.filterList.reduce(((e,t)=>{let{filter:r}=t;return{...e,[r.id]:r}}),{})),[e.filterList]),S=t.useMemo((()=>e.sortList.map((e=>{let{attribute:t,caption:r}=e;var n;return{attribute:t,caption:null!==(n=r.value)&&void 0!==n?n:""}}))),[e.sortList]),D=t.useMemo((()=>e.filterList.reduce(((e,t)=>{let{filter:r}=t;return{...e,[r.id]:y(r,u.current)}}),{})),[e.filterList,u.current]),P=Object.keys(p).map((e=>{var t;return null===(t=p[e][0])||void 0===t?void 0:t.getFilterCondition()})).filter((e=>void 0!==e));if(P.length>0?e.datasource.setFilter(P.length>1?n.and(...P):P[0]):d?e.datasource.setFilter(void 0):e.datasource.setFilter(u.current),g&&"getSortCondition"in g){const t=g.getSortCondition();e.datasource.setSortOrder(t?[t]:void 0)}else e.datasource.setSortOrder(void 0);const U=t.useCallback((t=>{const r=t(x);C?e.datasource.setLimit(r*e.pageSize):e.datasource.setOffset(r*e.pageSize)}),[e.datasource,e.pageSize,C,x]),M=function(e,r,n){var a,i;const o=t.useRef(!1);t.useEffect((()=>{o.current&&(null==n||n.execute())}),[null==e?void 0:e.selection]),t.useEffect((()=>{"loading"!==(null==r?void 0:r.status)&&(o.current=!0)}),[null==r?void 0:r.status]);const u=t.useRef(void 0);return void 0!==e&&("Single"===e.type?u.current?u.current.updateProps(e):u.current=new ot(e):u.current?u.current.updateProps(e,null!==(i=r.items)&&void 0!==i?i:[]):u.current=new ut(e,null!==(a=r.items)&&void 0!==a?a:[])),u.current}(e.itemSelection,e.datasource,e.onSelectionChange),I=function(e){const r=t.useCallback((()=>{"Multi"===(null==e?void 0:e.type)&&("all"===e.selectionStatus?e.selectNone():e.selectAll())}),[e]),n="Multi"===(null==e?void 0:e.type)?e.selectionStatus:void 0;return t.useMemo((()=>{if(void 0!==n)return{status:n,toggle:r}}),[n,r])}(M),N=e.filterList.length>0||e.sortList.length>0||"Multi"===(null==M?void 0:M.type);return t.createElement(h,{className:e.class,desktopItems:e.desktopItems,emptyPlaceholderRenderer:t.useCallback((r=>"custom"===e.showEmptyPlaceholder?r(e.emptyPlaceholder):t.createElement("div",null)),[e.emptyPlaceholder,e.showEmptyPlaceholder]),emptyMessageTitle:null===(r=e.emptyMessageTitle)||void 0===r?void 0:r.value,header:t.useMemo((()=>N?t.createElement(b.Provider,{value:{filterDispatcher:e=>{if(e.filterType){const[,t]=p[e.filterType];t(e),f(!0)}return e},multipleAttributes:E,multipleInitialFilters:D}},t.createElement(k.Provider,{value:{sortDispatcher:e=>(w(!0),m(e),e),attributes:S,initialSort:c.current}},t.createElement(T.Provider,{value:I},e.filtersPlaceholder))):null),[b,k,p,E,D,N,e.filtersPlaceholder,S]),headerTitle:null===(a=e.filterSectionTitle)||void 0===a?void 0:a.value,showHeader:N,hasMoreItems:null!==(i=e.datasource.hasMoreItems)&&void 0!==i&&i,items:null!==(o=e.datasource.items)&&void 0!==o?o:[],itemRenderer:t.useCallback(((t,r)=>{var n,a,i;return t(!!(null==M?void 0:M.isSelected(r)),null===(n=e.content)||void 0===n?void 0:n.get(r),null===(i=null===(a=e.itemClass)||void 0===a?void 0:a.get(r))||void 0===i?void 0:i.value,(e.onClick||M)&&(()=>{var t,n;e.onClick&&(n=null===(t=e.onClick)||void 0===t?void 0:t.get(r))&&n.canExecute&&!n.isExecuting&&n.execute(),M&&(M.isSelected(r)?M.remove(r):M.add(r))}))}),[e.content,e.itemClass,e.onClick,M]),numberOfItems:e.datasource.totalCount,page:x,pageSize:e.pageSize,paging:"buttons"===e.pagination,paginationPosition:e.pagingPosition,phoneItems:e.phoneItems,setPage:U,tabletItems:e.tabletItems,tabIndex:e.tabIndex})},Object.defineProperty(e,"__esModule",{value:!0})}));
